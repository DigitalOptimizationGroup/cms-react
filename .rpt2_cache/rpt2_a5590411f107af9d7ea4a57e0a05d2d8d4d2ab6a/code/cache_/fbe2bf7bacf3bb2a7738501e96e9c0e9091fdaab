{"code":"import * as React from \"react\";\r\nimport { Context } from \"./Context\";\r\nclass ConnectTrackExposure extends React.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.forwardedRef = node => {\r\n            if (this.trackedElement) {\r\n                this.props.unobserve(this.trackedElement);\r\n            }\r\n            this.trackedElement = node;\r\n            if (node !== null) {\r\n                const { releaseId, featureId, variationId, exposureId } = this.props;\r\n                this.props.observe(node, {\r\n                    releaseId,\r\n                    featureId,\r\n                    variationId,\r\n                    exposureId\r\n                });\r\n            }\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        // maybe these should be console.warn & don't set up the tracking\r\n        if (!this.trackedElement) {\r\n            throw new Error(`<Feature.Track /> cannot find a DOM ref node. Provide ref={trackingRef} to the root DOM element.`);\r\n        }\r\n        if (this.props.releaseId === undefined ||\r\n            this.props.featureId === undefined ||\r\n            this.props.variationId === undefined ||\r\n            this.props.exposureId === undefined) {\r\n            throw new Error(`<Feature.Track /> was not passed valid tracking data. It should be called: <Feature.Track {...tracking} />`);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.trackedElement) {\r\n            this.props.unobserve(this.trackedElement);\r\n        }\r\n    }\r\n    render() {\r\n        return this.props.children({\r\n            trackingRef: this.forwardedRef\r\n        });\r\n    }\r\n}\r\nexport const Track = props => {\r\n    return (React.createElement(Context.Consumer, null, ({ observe, unobserve }) => {\r\n        return (React.createElement(ConnectTrackExposure, Object.assign({ observe: observe, unobserve: unobserve }, props)));\r\n    }));\r\n};\r\n","references":["/home/shalom/Documents/az/G/github/cms-react/node_modules/@types/react/index.d.ts","/home/shalom/Documents/az/G/github/cms-react/src/Context.js"]}
